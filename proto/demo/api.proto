syntax = "proto3";

package demo;

import "danielvladco/protobuf/graphql.proto";

option go_package = "github.com/becash/apis/gen_go/demo";

service ServiceDemo {
  option (danielvladco.protobuf.graphql.svc) = {name: ""};

  rpc GetOne(ItemIdInt32) returns (Item) {
    option (danielvladco.protobuf.graphql.rpc) = {
      type: QUERY,
      name: "item"
    };
  }
  rpc GetMany(ItemIdInt32) returns (Item) {
    option (danielvladco.protobuf.graphql.rpc) = {
      type: QUERY,
      name: "items"
    };
  }
}

// use from common
message ItemIdInt32 {
  // Filter documents by ID
  int32 id = 1 [(danielvladco.protobuf.graphql.field) = {required: true}];
}


message Item {
  // item ID
  int32 id = 1 [(danielvladco.protobuf.graphql.field) = {required: true}];
  // item description
  string description  = 2;
}

message Items {
  // count of items in database
  int32 count = 1 [(danielvladco.protobuf.graphql.field) = {required: true}];
  // list of items
  repeated Item data = 2 [(danielvladco.protobuf.graphql.field) = {required: true}];
}

